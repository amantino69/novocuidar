â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         ğŸ†˜ TROUBLESHOOTING - O que fazer quando algo quebra          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CenÃ¡rio 1: Frontend nÃ£o aparece em localhost:4200
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: Navegador diz "ConexÃ£o recusada"
ğŸ”§ SoluÃ§Ã£o:

   netstat -ano | findstr ":4200" | findstr "LISTENING"
   
   Se aparecer: Firefox/Chrome pode estar bloqueando
   â†’ Limpar cache: Ctrl+Shift+Delete
   â†’ Abrir nova aba anÃ´nima
   
   Se NÃƒO aparecer: Frontend nÃ£o iniciou
   â†’ Matar processo: Get-Process ng -ErrorAction SilentlyContinue | Stop-Process -Force
   â†’ Rodar: .\start.ps1


CenÃ¡rio 2: Backend responde mas diz "unauthorized"
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: Tenta login, retorna 401
ğŸ”§ SoluÃ§Ã£o:

   1. Verificar banco de dados:
      docker exec telecuidar-postgres psql -U postgres -d telecuidar -c "SELECT COUNT(*) FROM \"Users\";"
   
   2. Se for 0, banco estÃ¡ vazio:
      .\checkpoint-restore.ps1 -CheckpointDate [data]
   
   3. Se tiver usuÃ¡rios mas nÃ£o funciona:
      â€¢ Verificar .env (JWT_SECRET correto?)
      â€¢ Ver logs: docker logs telecuidar-backend --tail=20


CenÃ¡rio 3: Backend na porta 5239 nÃ£o responde
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: Porta 5239 ocupada ou nÃ£o responde
ğŸ”§ SoluÃ§Ã£o:

   1. Matar processos .NET:
      Get-Process dotnet -ErrorAction SilentlyContinue | Stop-Process -Force
   
   2. Verificar porta:
      netstat -ano | findstr ":5239"
   
   3. Se ocupada por outro PID:
      Stop-Process -Id [PID] -Force
   
   4. Reiniciar backend:
      .\start.ps1


CenÃ¡rio 4: Docker PostgreSQL nÃ£o inicia
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: "Cannot connect to Docker daemon"
ğŸ”§ SoluÃ§Ã£o:

   1. Verificar Docker Desktop:
      docker ps
   
   2. Se not running:
      â€¢ Abrir Docker Desktop manualmente
      â€¢ Aguardar "Docker is running"
   
   3. Se container morreu:
      docker start telecuidar-postgres
      docker ps  (verificar status)
   
   4. Se volume corrompido:
      PERIGO! Usar backup do checkpoint
      .\checkpoint-restore.ps1 -CheckpointDate [data]


CenÃ¡rio 5: MigraÃ§Ã£o do banco falhou
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: "Migration table corrupted" ou similar
ğŸ”§ SoluÃ§Ã£o RÃPIDA:

   NÃƒO TENTE CONSERTAR!
   
   Use restore:
   .\checkpoint-restore.ps1 -CheckpointDate [data]


CenÃ¡rio 6: .gitignore tem arquivos que nÃ£o deveriam
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: Backend fica dizendo "Controller not found"
ğŸ”§ SoluÃ§Ã£o:

   1. Verificar qual arquivo falta:
      git status --ignored --porcelain | findstr "backend/" | head -10
   
   2. Se aparecer algo em backend/:
      git add -f backend/WebAPI/[arquivo].cs
   
   3. Commit:
      git commit -m "fix: Force add ignored file"
   
   4. Se isso nÃ£o resolver:
      .\checkpoint-restore.ps1 -CheckpointDate [data]


CenÃ¡rio 7: Porta estÃ¡ em uso e nÃ£o quer fechar
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: "Address already in use" mesmo apÃ³s Stop-Process
ğŸ”§ SoluÃ§Ã£o NUCLEAR:

   1. ForÃ§ar kill de TODOS:
      Get-Process | Where-Object { $_.ProcessName -match "dotnet|ng|node|cmd" } | Stop-Process -Force
   
   2. Aguardar 5 segundos:
      Start-Sleep -Seconds 5
   
   3. Verificar liberaÃ§Ã£o:
      netstat -ano | findstr ":4200 :5239"
   
   4. Se ainda ocupada:
      Reiniciar Windows (last resort)


CenÃ¡rio 8: System ficou lento depois de mudanÃ§as
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: Frontend/Backend carrega muito lento
ğŸ”§ SoluÃ§Ã£o:

   1. Limpar cache:
      Remove-Item -Path "c:\telecuidar\frontend\.angular" -Recurse -Force
      Remove-Item -Path "c:\telecuidar\backend\WebAPI\bin" -Recurse -Force
      Remove-Item -Path "c:\telecuidar\backend\WebAPI\obj" -Recurse -Force
   
   2. Rebuild:
      .\start.ps1
   
   3. Se nÃ£o melhorar:
      .\checkpoint-restore.ps1 -CheckpointDate [data]


CenÃ¡rio 9: Arquivo corrompido no Git
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: "fatal: object ... is corrupted"
ğŸ”§ SoluÃ§Ã£o:

   1. Restaurar do checkpoint:
      .\checkpoint-restore.ps1 -CheckpointDate [data]
   
   2. Se checkpoint tambÃ©m tiver problema:
      git gc --aggressive (arriscado)
      OU
      Clonar repositÃ³rio do zero


CenÃ¡rio 10: NÃ£o lembra qual checkpoint usar
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âŒ Sintoma: VÃ¡rios checkpoints disponÃ­veis
ğŸ”§ SoluÃ§Ã£o:

   1. Listar checkpoints:
      Get-ChildItem "c:\telecuidar\.checkpoints" -Directory | Sort-Object CreationTime -Descending
   
   2. Usar o MAIS RECENTE:
      .\checkpoint-restore.ps1 -CheckpointDate [nome mais novo]
   
   3. Se nÃ£o funcionar, tentar anterior


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   ğŸ†˜ ÃšLTIMA OPÃ‡ÃƒO - MANUAL RECOVERY                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Se NADA funciona, fazer isso:

1. Matar TUDO:
   Get-Process | Where-Object { $_.ProcessName -match "dotnet|ng|node|cmd|powershell" } | Where-Object { $_.Id -ne $PID } | Stop-Process -Force

2. Aguardar:
   Start-Sleep -Seconds 10

3. Voltar cÃ³digo:
   cd c:\telecuidar
   git reset --hard HEAD~1

4. Restaurar banco:
   docker exec telecuidar-postgres psql -U postgres -d postgres -c "DROP DATABASE IF EXISTS telecuidar;"
   docker exec telecuidar-postgres psql -U postgres -d postgres -c "CREATE DATABASE telecuidar;"
   docker cp "c:\telecuidar\.checkpoints\checkpoint_20260205_075621\banco.sql" telecuidar-postgres:/tmp/banco.sql
   docker exec telecuidar-postgres psql -U postgres -d telecuidar -f /tmp/banco.sql

5. Limpar cache:
   Remove-Item -Path "c:\telecuidar\frontend\.angular" -Recurse -Force -ErrorAction SilentlyContinue
   Remove-Item -Path "c:\telecuidar\backend\WebAPI\bin" -Recurse -Force -ErrorAction SilentlyContinue
   Remove-Item -Path "c:\telecuidar\backend\WebAPI\obj" -Recurse -Force -ErrorAction SilentlyContinue

6. Restart:
   .\start.ps1


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                       â˜ï¸  AINDA NÃƒO FUNCIONA?                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Coletar informaÃ§Ãµes:

1. Salvar output de erros:
   .\start.ps1 2>&1 | Out-File "c:\telecuidar\error-log.txt"

2. Ver logs do backend:
   docker logs telecuidar-backend 2>&1 | Out-File "c:\telecuidar\backend-log.txt"

3. Ver logs do frontend:
   docker logs telecuidar-frontend 2>&1 | Out-File "c:\telecuidar\frontend-log.txt"

4. Compartilhar estes arquivos para debug


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              Lembre-se: Quando em dÃºvida, RESTORE!                  â•‘
â•‘        checkpoint-restore.ps1 resolve 95% dos problemas             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
